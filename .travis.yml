sudo: false
cache:
  directories:
    - .cabal-sandbox
    - $HOME/.cabal
language: haskell
ghc: 7.8
before_install:
  - if [[ `cabal --numeric-version` != "1.22"* ]]; then cabal install cabal-install; fi
  - export PATH=$HOME/.cabal/bin:$PATH
install:
  - cabal sandbox init
  - cabal install --only-dependencies --enable-tests
script:
  - cabal configure --enable-tests
  - cabal build
  - cabal test --show-details=streaming
